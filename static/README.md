# Static Assets - Детальное описание

Static Assets статических ресурсов представляет собой фундаментальную основу пользовательского интерфейса вашей системы управления роутером. Этот модуль служит мостом между серверной логикой Go и клиентским интерфейсом, обеспечивая все необходимые ресурсы для создания современного, отзывчивого веб-интерфейса на базе Tabler.io.

## Архитектурная роль в системе

Статические ресурсы в контексте вашего проекта выполняют несколько критически важных функций. Во-первых, они обеспечивают визуальное представление данных, получаемых через WebSocket соединения и REST API. Во-вторых, они содержат клиентскую логику для обработки пользовательских действий и их передачи на сервер. В-третьих, они реализуют адаптивный интерфейс, который должен корректно работать на различных устройствах, от мобильных телефонов до настольных компьютеров.

## Подробная структура каталогов

### Каталог CSS (`static/css/`)

Этот каталог содержит все таблицы стилей, которые определяют внешний вид вашего интерфейса. Структура должна быть организована следующим образом:

```
css/
├── tabler/                 # Базовая библиотека Tabler.io
│   ├── tabler.min.css     # Минифицированная версия для продакшена
│   ├── tabler.css         # Полная версия для разработки
│   └── tabler-icons.css   # Иконочный шрифт Tabler
├── custom/                # Кастомные стили проекта
│   ├── main.css          # Основные переопределения стилей
│   ├── network.css       # Стили для сетевых страниц
│   ├── firewall.css      # Стили для страниц файрвола
│   ├── modal.css         # Стили для модальных окон
│   └── responsive.css    # Адаптивные стили для мобильных устройств
└── vendor/               # Сторонние CSS библиотеки
    ├── datatables.css    # Для таблиц данных
    └── codemirror.css    # Для редактирования конфигурационных файлов
```

В файле `main.css` вы должны определить основные переменные CSS, которые будут использоваться во всем проекте. Это включает цветовую схему, типографику, отступы и другие базовые параметры дизайна. Например, вы можете переопределить базовые цвета Tabler для соответствия брендингу вашего роутера или добавить специфические стили для индикаторов состояния сети.

### Каталог JavaScript (`static/js/`)

JavaScript файлы содержат всю клиентскую логику вашего приложения. Организация должна отражать модульную структуру серверной части:

```
js/
├── core/                  # Основная функциональность
│   ├── app.js            # Инициализация приложения
│   ├── websocket.js      # WebSocket клиент для реального времени
│   ├── api.js            # Обертка для REST API вызовов
│   ├── auth.js           # Клиентская аутентификация
│   └── utils.js          # Вспомогательные функции
├── components/           # Переиспользуемые компоненты
│   ├── modal.js         # Универсальный модальный компонент
│   ├── forms.js         # Обработка форм и валидация
│   ├── tables.js        # Интерактивные таблицы
│   └── charts.js        # Графики и диаграммы состояния
├── modules/             # Модули для конкретных страниц
│   ├── network/         # Сетевые функции
│   │   ├── interfaces.js # Управление интерфейсами
│   │   ├── wan.js       # Настройки WAN
│   │   ├── lan.js       # Настройки LAN
│   │   ├── wireless.js  # WiFi управление
│   │   ├── routing.js   # Маршрутизация
│   │   └── firewall.js  # Файрвол
│   └── system/          # Системные функции
│       ├── monitoring.js # Мониторинг системы
│       └── settings.js  # Общие настройки
└── vendor/              # Сторонние JavaScript библиотеки
    ├── jquery.min.js    # jQuery (если используется)
    ├── datatables.min.js # DataTables для таблиц
    └── codemirror.min.js # Редактор кода
```

Файл `websocket.js` является особенно важным, поскольку он обеспечивает связь в реальном времени между клиентом и сервером. Этот модуль должен обрабатывать автоматическое переподключение, управление состоянием соединения и маршрутизацию входящих сообщений к соответствующим обработчикам в модулях страниц.

### Каталог изображений (`static/img/`)

Графические ресурсы должны быть организованы по функциональному назначению:

```
img/
├── icons/               # Иконки интерфейса
│   ├── status/         # Индикаторы состояния (зеленые/красные точки)
│   ├── devices/        # Иконки типов устройств
│   └── actions/        # Иконки действий (добавить, удалить, редактировать)
├── logos/              # Логотипы и брендинг
│   ├── logo.svg        # Основной логотип
│   └── favicon.ico     # Иконка сайта
├── backgrounds/        # Фоновые изображения
└── ui/                # Элементы интерфейса
    ├── loading.gif     # Анимация загрузки
    └── patterns/       # Текстурные паттерны
```

### Каталог шрифтов (`static/fonts/`)

Типографические ресурсы включают как системные, так и иконочные шрифты:

```
fonts/
├── tabler-icons/       # Иконочный шрифт Tabler
│   ├── tabler-icons.woff2
│   ├── tabler-icons.woff
│   └── tabler-icons.ttf
└── custom/            # Дополнительные шрифты
    └── monospace/     # Моноширинные шрифты для кода
```

## Интеграция с WebSocket для реального времени

Одним из ключевых аспектов вашего статического контента является обеспечение обновлений интерфейса в реальном времени через WebSocket соединения. Клиентская часть должна быть способна обрабатывать различные типы сообщений от сервера и соответствующим образом обновлять интерфейс.

Например, когда пользователь изменяет настройки сетевого интерфейса, сервер должен отправить обновление через WebSocket всем подключенным клиентам, чтобы они могли отобразить текущее состояние без необходимости перезагрузки страницы. Это особенно важно для страниц мониторинга, где информация о состоянии сети должна обновляться непрерывно.

## Обработка модальных окон

Модальные окна в вашей системе играют центральную роль в пользовательском взаимодействии. Они используются для всех форм создания и редактирования конфигурации, от добавления STUN серверов до настройки сложных правил файрвола. JavaScript код для модальных окон должен быть универсальным и переиспользуемым, поддерживая различные типы форм и валидацию данных.

Каждое модальное окно должно уметь загружать свое содержимое динамически, отправлять данные на сервер через AJAX, обрабатывать ошибки валидации и обновлять основной интерфейс после успешного сохранения изменений.

## Адаптивность и мобильная поддержка

Учитывая, что многие администраторы могут управлять роутером с мобильных устройств, статические ресурсы должны обеспечивать полноценную работу на экранах различных размеров. Это включает адаптивные таблицы, которые корректно отображаются на узких экранах, оптимизированные формы ввода и удобную навигацию.

## Оптимизация производительности

Для обеспечения быстрой загрузки интерфейса, особенно в условиях ограниченной пропускной способности, статические ресурсы должны быть оптимизированы. Это включает минификацию CSS и JavaScript файлов, сжатие изображений, использование современных форматов файлов (WebP для изображений, WOFF2 для шрифтов) и реализацию кэширования на уровне браузера.

Такая детализированная организация статических ресурсов обеспечит создание профессионального, быстрого и удобного в использовании интерфейса для управления вашей системой роутера.
